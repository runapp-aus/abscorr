<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>StrayR • strayr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="StrayR">
<meta name="robots" content="noindex">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-#a8c5da" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">strayr</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.2.2.9002</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/strayr.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/runapp-aus/strayr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>StrayR</h1>
            
            <h4 data-toc-skip class="date">2024-09-30</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/runapp-aus/strayr/blob/master/vignettes/strayr.Rmd" class="external-link"><code>vignettes/strayr.Rmd</code></a></small>
      <div class="d-none name"><code>strayr.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="under-construction">Under Construction<a class="anchor" aria-label="anchor" href="#under-construction"></a>
</h2>
</div>
<div class="section level2">
<h2 id="using-abs-structures">Using ABS structures<a class="anchor" aria-label="anchor" href="#using-abs-structures"></a>
</h2>
<p>Loading the package will lazily load a number of structures, a full
list is available in the <a href="../reference/index.html">reference</a></p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">strayr</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">anzsco2009</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 1,180</span></span>
<span><span class="co">#&gt; Columns: 11</span></span>
<span><span class="co">#&gt; $ anzsco_major_code      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "1", "1", "1", "1", "1", "1", "1", "1", "1", "1…</span></span>
<span><span class="co">#&gt; $ anzsco_major           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Managers", "Managers", "Managers", "Managers",…</span></span>
<span><span class="co">#&gt; $ anzsco_submajor_code   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "10", "11", "11", "11", "11", "11", "11", "11",…</span></span>
<span><span class="co">#&gt; $ anzsco_submajor        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Managers, nfd", "Chief Executives, General Man…</span></span>
<span><span class="co">#&gt; $ anzsco_minor_code      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "100", "110", "111", "111", "111", "111", "111"…</span></span>
<span><span class="co">#&gt; $ anzsco_minor           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Managers, nfd", "Chief Executives, General Man…</span></span>
<span><span class="co">#&gt; $ anzsco_unit_code       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "1000", "1100", "1110", "1111", "1112", "1112",…</span></span>
<span><span class="co">#&gt; $ anzsco_unit            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Managers, nfd", "Chief Executives, General Man…</span></span>
<span><span class="co">#&gt; $ anzsco_occupation_code <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "100000", "110000", "111000", "111111", "111211…</span></span>
<span><span class="co">#&gt; $ anzsco_occupation      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Managers, nfd", "Chief Executives, General Man…</span></span>
<span><span class="co">#&gt; $ skill_level            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> NA, NA, NA, "1", "1", "1", "1", "1", "1", NA, N…</span></span>
<span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">anzsic2006</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 506</span></span>
<span><span class="co">#&gt; Columns: 8</span></span>
<span><span class="co">#&gt; $ anzsic_division_code    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "A", "A", "A", "A", "A", "A", "A", "A", "A", "…</span></span>
<span><span class="co">#&gt; $ anzsic_division         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Agriculture, Forestry and Fishing", "Agricult…</span></span>
<span><span class="co">#&gt; $ anzsic_subdivision_code <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "01", "01", "01", "01", "01", "01", "01", "01"…</span></span>
<span><span class="co">#&gt; $ anzsic_subdivision      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Agriculture", "Agriculture", "Agriculture", "…</span></span>
<span><span class="co">#&gt; $ anzsic_group_code       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "011", "011", "011", "011", "011", "012", "012…</span></span>
<span><span class="co">#&gt; $ anzsic_group            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Nursery and Floriculture Production", "Nurser…</span></span>
<span><span class="co">#&gt; $ anzsic_class_code       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "0111", "0112", "0113", "0114", "0115", "0121"…</span></span>
<span><span class="co">#&gt; $ anzsic_class            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Nursery Production (Under Cover)", "Nursery P…</span></span>
<span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">anzsic_isic</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 1,143</span></span>
<span><span class="co">#&gt; Columns: 4</span></span>
<span><span class="co">#&gt; $ anzsic_class_code <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "0111", "0111", "0112", "0112", "0113", "0114", "011…</span></span>
<span><span class="co">#&gt; $ anzsic_class      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Nursery Production (Under Cover)", "Nursery Product…</span></span>
<span><span class="co">#&gt; $ isic_class_code   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "0129p", "0130p", "0129p", "0130p", "0130p", "0119p"…</span></span>
<span><span class="co">#&gt; $ isic_class        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Growing of other perennial crops", "Plant propagati…</span></span>
<span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">asced_foe2001</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 439</span></span>
<span><span class="co">#&gt; Columns: 6</span></span>
<span><span class="co">#&gt; $ aced_foe_broad_code    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "01", "01", "01", "01", "01", "01", "01", "01",…</span></span>
<span><span class="co">#&gt; $ aced_foe_broad         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Natural and Physical Sciences", "Natural and P…</span></span>
<span><span class="co">#&gt; $ aced_foe_narrow_code   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "0100", "0101", "0101", "0101", "0101", "0103",…</span></span>
<span><span class="co">#&gt; $ aced_foe_narrow        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Natural and Physical Sciences, nfd", "Mathemat…</span></span>
<span><span class="co">#&gt; $ aced_foe_detailed_code <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "010000", "010100", "010101", "010103", "010199…</span></span>
<span><span class="co">#&gt; $ aced_foe_detailed      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Natural and Physical Sciences, nfd", "Mathemat…</span></span>
<span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">asced_qual2001</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 64</span></span>
<span><span class="co">#&gt; Columns: 6</span></span>
<span><span class="co">#&gt; $ aced_qual_broad_code    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "1", "1", "1", "1", "1", "1", "1", "1", "1", "…</span></span>
<span><span class="co">#&gt; $ aced_qual_broad         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Postgraduate Degree Level", "Postgraduate Deg…</span></span>
<span><span class="co">#&gt; $ aced_qual_narrow_code   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "11", "11", "11", "11", "11", "11", "12", "12"…</span></span>
<span><span class="co">#&gt; $ aced_qual_narrow        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Doctoral Degree Level", "Doctoral Degree Leve…</span></span>
<span><span class="co">#&gt; $ aced_qual_detailed_code <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "111", "112", "113", "114", "115", "116", "121…</span></span>
<span><span class="co">#&gt; $ aced_qual_detailed      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Higher Doctorate", "Doctorate by Research", "…</span></span></code></pre></div>
<p>Objects stored in the <a href="https://github.com/wfmackey/absmapsdata" class="external-link"><code>absmapsdata</code></a>
package can be accessed with the <code>read_absmap</code> function:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-spatial.github.io/sf/" class="external-link">sf</a></span><span class="op">)</span> <span class="co"># loaded to handle sf objects</span></span>
<span><span class="co">#&gt; Linking to GEOS 3.11.0, GDAL 3.5.3, PROJ 9.1.0; sf_use_s2() is TRUE</span></span>
<span><span class="fu"><a href="../reference/read_absmap.html">read_absmap</a></span><span class="op">(</span><span class="st">"sa42016"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Simple feature collection with 107 features and 9 fields (with 18 geometries empty)</span></span>
<span><span class="co">#&gt; Geometry type: MULTIPOLYGON</span></span>
<span><span class="co">#&gt; Dimension:     XY</span></span>
<span><span class="co">#&gt; Bounding box:  xmin: 96.81695 ymin: -43.74048 xmax: 167.9969 ymax: -9.219937</span></span>
<span><span class="co">#&gt; Geodetic CRS:  WGS 84</span></span>
<span><span class="co">#&gt; First 10 features:</span></span>
<span><span class="co">#&gt;    sa4_code_2016               sa4_name_2016 gcc_code_2016  gcc_name_2016</span></span>
<span><span class="co">#&gt; 1            101              Capital Region         1RNSW    Rest of NSW</span></span>
<span><span class="co">#&gt; 2            102               Central Coast         1GSYD Greater Sydney</span></span>
<span><span class="co">#&gt; 3            103                Central West         1RNSW    Rest of NSW</span></span>
<span><span class="co">#&gt; 4            104     Coffs Harbour - Grafton         1RNSW    Rest of NSW</span></span>
<span><span class="co">#&gt; 5            105          Far West and Orana         1RNSW    Rest of NSW</span></span>
<span><span class="co">#&gt; 6            106 Hunter Valley exc Newcastle         1RNSW    Rest of NSW</span></span>
<span><span class="co">#&gt; 7            107                   Illawarra         1RNSW    Rest of NSW</span></span>
<span><span class="co">#&gt; 8            108             Mid North Coast         1RNSW    Rest of NSW</span></span>
<span><span class="co">#&gt; 9            109                      Murray         1RNSW    Rest of NSW</span></span>
<span><span class="co">#&gt; 10           110  New England and North West         1RNSW    Rest of NSW</span></span>
<span><span class="co">#&gt;    state_code_2016 state_name_2016 areasqkm_2016 cent_long  cent_lat</span></span>
<span><span class="co">#&gt; 1                1 New South Wales     51895.563  149.2450 -35.56480</span></span>
<span><span class="co">#&gt; 2                1 New South Wales      1681.072  151.2855 -33.30797</span></span>
<span><span class="co">#&gt; 3                1 New South Wales     70297.060  148.3558 -33.21697</span></span>
<span><span class="co">#&gt; 4                1 New South Wales     13229.758  152.7739 -29.81603</span></span>
<span><span class="co">#&gt; 5                1 New South Wales    339363.693  145.0269 -30.98611</span></span>
<span><span class="co">#&gt; 6                1 New South Wales     21491.291  150.9849 -32.35481</span></span>
<span><span class="co">#&gt; 7                1 New South Wales      1538.919  150.7711 -34.43464</span></span>
<span><span class="co">#&gt; 8                1 New South Wales     18851.500  152.3410 -31.56476</span></span>
<span><span class="co">#&gt; 9                1 New South Wales     97797.675  144.0434 -34.42275</span></span>
<span><span class="co">#&gt; 10               1 New South Wales     99145.916  150.7019 -30.06335</span></span>
<span><span class="co">#&gt;                          geometry</span></span>
<span><span class="co">#&gt; 1  MULTIPOLYGON (((150.3113 -3...</span></span>
<span><span class="co">#&gt; 2  MULTIPOLYGON (((151.315 -33...</span></span>
<span><span class="co">#&gt; 3  MULTIPOLYGON (((150.6107 -3...</span></span>
<span><span class="co">#&gt; 4  MULTIPOLYGON (((153.2785 -2...</span></span>
<span><span class="co">#&gt; 5  MULTIPOLYGON (((150.1106 -3...</span></span>
<span><span class="co">#&gt; 6  MULTIPOLYGON (((152.3165 -3...</span></span>
<span><span class="co">#&gt; 7  MULTIPOLYGON (((150.8783 -3...</span></span>
<span><span class="co">#&gt; 8  MULTIPOLYGON (((159.0686 -3...</span></span>
<span><span class="co">#&gt; 9  MULTIPOLYGON (((147.6165 -3...</span></span>
<span><span class="co">#&gt; 10 MULTIPOLYGON (((152.4876 -2...</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="converting-state-names-and-abbreviations">Converting state names and abbreviations<a class="anchor" aria-label="anchor" href="#converting-state-names-and-abbreviations"></a>
</h2>
<p>The <code><a href="../reference/clean_state.html">clean_state()</a></code> function makes it easy to wrangle
vectors of State names and abbreviations - which might be in different
forms and possibly misspelled.</p>
<p>Let’s start with a character vector that includes some misspelled
state names, some correctly spelled state names, as well as some
abbreviations both malformed and correctly formed.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"western Straya"</span>, <span class="st">"w. A "</span>, <span class="st">"new soth wailes"</span>, <span class="st">"SA"</span>, <span class="st">"tazz"</span>, <span class="st">"Victoria"</span>,</span>
<span>       <span class="st">"northn territy"</span><span class="op">)</span></span></code></pre></div>
<p>To convert this character vector to a vector of abbreviations for
State names, use <code><a href="../reference/clean_state.html">clean_state()</a></code>:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/clean_state.html">clean_state</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "WA"  NA    "NSW" "SA"  "Tas" "Vic" "NT"</span></span></code></pre></div>
<p>If you want full names for the states rather than abbreviations:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="../reference/clean_state.html">clean_state</a></span><span class="op">(</span><span class="va">x</span>, to <span class="op">=</span> <span class="st">"state_name"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Western Australia"  NA                   "New South Wales"   </span></span>
<span><span class="co">#&gt; [4] "South Australia"    "Tasmania"           "Victoria"          </span></span>
<span><span class="co">#&gt; [7] "Northern Territory"</span></span></code></pre></div>
<p>By default, <code><a href="../reference/clean_state.html">clean_state()</a></code> uses fuzzy or approximate
string matching to match the elements in your character vector to state
names/abbreviations. If you only want to permit exact matching, you can
disable fuzzy matching. This means you will never get false matches, but
you will also fail to match misspelled state names or malformed
abbreviations; you’ll get an <code>NA</code> if no match can be
found.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span> <span class="fu"><a href="../reference/clean_state.html">clean_state</a></span><span class="op">(</span><span class="va">x</span>, fuzzy_match <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] NA    NA    NA    "SA"  NA    "Vic" NA</span></span></code></pre></div>
<p>If your data is in a data frame, <code><a href="../reference/clean_state.html">clean_state()</a></code> works
well within a <code><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">dplyr::mutate()</a></code> call:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span> <span class="va">x_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>state <span class="op">=</span> <span class="va">x</span>, stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span> <span class="va">x_df</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>   <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>state_abbr <span class="op">=</span> <span class="fu"><a href="../reference/clean_state.html">clean_state</a></span><span class="op">(</span><span class="va">state</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;             state state_abbr</span></span>
<span><span class="co">#&gt; 1  western Straya         WA</span></span>
<span><span class="co">#&gt; 2           w. A        &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 3 new soth wailes        NSW</span></span>
<span><span class="co">#&gt; 4              SA         SA</span></span>
<span><span class="co">#&gt; 5            tazz        Tas</span></span>
<span><span class="co">#&gt; 6        Victoria        Vic</span></span>
<span><span class="co">#&gt; 7  northn territy         NT</span></span></code></pre></div>
<p>The function <code>clean_state</code> can also return an ‘unofficial’
state/territory colour for use in charts.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="../reference/clean_state.html">clean_state</a></span><span class="op">(</span><span class="st">"Queensland"</span>, to <span class="op">=</span> <span class="st">"colour"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "#800000"</span></span></code></pre></div>
<p>The palette <code>palette_state_name_2016</code> can be used in
ggplot2 for the unofficial colours of states.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/read_absmap.html">read_absmap</a></span><span class="op">(</span><span class="st">"state2016"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> </span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html" class="external-link">geom_sf</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="va">state_name_2016</span><span class="op">)</span>, colour <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html" class="external-link">scale_fill_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="va">palette_state_name_2016</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_void</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="strayr_files/figure-html/palette-1.png" width="700"></p>
</div>
<div class="section level2">
<h2 id="australian-public-holidays">Australian public holidays<a class="anchor" aria-label="anchor" href="#australian-public-holidays"></a>
</h2>
<p>This package includes the <code>auholidays</code> dataset from the <a href="https://data.gov.au/data/dataset/australian-holidays-machine-readable-dataset" class="external-link">Australian
Public Holidays Dates Machine Readable Dataset</a> as well as a helper
function <code>is_holiday</code>:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">auholidays</span><span class="op">)</span></span>
<span><span class="co">#&gt; tibble [794 × 3] (S3: tbl_df/tbl/data.frame)</span></span>
<span><span class="co">#&gt;  $ Date        : Date[1:794], format: "2021-01-01" "2021-01-26" ...</span></span>
<span><span class="co">#&gt;  $ Name        : chr [1:794] "New Year's Day" "Australia Day" "Canberra Day" "Good Friday" ...</span></span>
<span><span class="co">#&gt;  $ Jurisdiction: chr [1:794] "ACT" "ACT" "ACT" "ACT" ...</span></span>
<span></span>
<span></span>
<span><span class="fu"><a href="../reference/is_holiday.html">is_holiday</a></span><span class="op">(</span><span class="st">'2020-01-01'</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span>
<span><span class="fu"><a href="../reference/is_holiday.html">is_holiday</a></span><span class="op">(</span><span class="st">'2019-05-27'</span>, jurisdictions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'ACT'</span>, <span class="st">'TAS'</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span>
<span></span>
<span><span class="va">h_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>dates <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'2020-01-01'</span>, <span class="st">'2020-01-10'</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">h_df</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>IsHoliday <span class="op">=</span> <span class="fu"><a href="../reference/is_holiday.html">is_holiday</a></span><span class="op">(</span><span class="va">dates</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;        dates IsHoliday</span></span>
<span><span class="co">#&gt; 1 2020-01-01      TRUE</span></span>
<span><span class="co">#&gt; 2 2020-01-10     FALSE</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="parsing-income-ranges">Parsing income ranges<a class="anchor" aria-label="anchor" href="#parsing-income-ranges"></a>
</h2>
<p>The <code>parse_income_range</code> function provides some tools for
extracting numbers from income ranges commonly used in Australian data.
For example:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="../reference/parse_income_range.html">parse_income_range</a></span><span class="op">(</span><span class="st">"$1-$199 ($1-$10,399)"</span>, limit <span class="op">=</span> <span class="st">"lower"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 1</span></span>
<span><span class="fu"><a href="../reference/parse_income_range.html">parse_income_range</a></span><span class="op">(</span><span class="st">"$1-$199 ($1-$10,399)"</span>, limit <span class="op">=</span> <span class="st">"upper"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 199</span></span>
<span><span class="fu"><a href="../reference/parse_income_range.html">parse_income_range</a></span><span class="op">(</span><span class="st">"$1-$199 ($1-$10,399)"</span>, limit <span class="op">=</span> <span class="st">"mid"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 100</span></span>
<span></span>
<span><span class="fu"><a href="../reference/parse_income_range.html">parse_income_range</a></span><span class="op">(</span><span class="st">"e. $180,001 or more"</span>, limit <span class="op">=</span> <span class="st">"upper"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] Inf</span></span>
<span><span class="fu"><a href="../reference/parse_income_range.html">parse_income_range</a></span><span class="op">(</span><span class="st">"e. $180,001 or more"</span>, limit <span class="op">=</span> <span class="st">"upper"</span>, max_income <span class="op">=</span> <span class="fl">300e3</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 3e+05</span></span>
<span></span>
<span></span>
<span><span class="fu"><a href="../reference/parse_income_range.html">parse_income_range</a></span><span class="op">(</span><span class="st">"Nil income"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 0</span></span>
<span><span class="fu"><a href="../reference/parse_income_range.html">parse_income_range</a></span><span class="op">(</span><span class="st">"Negative income"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 0</span></span>
<span><span class="fu"><a href="../reference/parse_income_range.html">parse_income_range</a></span><span class="op">(</span><span class="st">"Negative income"</span>, negative_as_zero <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] NA</span></span>
<span></span>
<span></span>
<span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span>income_range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Negative income"</span>,</span>
<span>                        <span class="st">"Nil income"</span>,</span>
<span>                        <span class="st">"$1,500-$1,749 ($78,000-$90,999)"</span>,</span>
<span>                        <span class="st">"$1,750-$1,999 ($91,000-$103,999)"</span>,</span>
<span>                        <span class="st">"$2,000-$2,999 ($104,000-$155,999)"</span>,</span>
<span>                        <span class="st">"$3,000 or more ($156,000 or more)"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>lower <span class="op">=</span> <span class="fu"><a href="../reference/parse_income_range.html">parse_income_range</a></span><span class="op">(</span><span class="va">income_range</span><span class="op">)</span>,</span>
<span>         mid   <span class="op">=</span> <span class="fu"><a href="../reference/parse_income_range.html">parse_income_range</a></span><span class="op">(</span><span class="va">income_range</span>, limit <span class="op">=</span> <span class="st">"mid"</span><span class="op">)</span>,</span>
<span>         upper <span class="op">=</span> <span class="fu"><a href="../reference/parse_income_range.html">parse_income_range</a></span><span class="op">(</span><span class="va">income_range</span>, limit <span class="op">=</span> <span class="st">"upper"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 4</span></span></span>
<span><span class="co">#&gt;   income_range                      lower   mid upper</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                             <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> Negative income                       0     0     0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> Nil income                            0     0     0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> $1,500-$1,749 ($78,000-$90,999)    <span style="text-decoration: underline;">1</span>500  <span style="text-decoration: underline;">1</span>625  <span style="text-decoration: underline;">1</span>749</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> $1,750-$1,999 ($91,000-$103,999)   <span style="text-decoration: underline;">1</span>750  <span style="text-decoration: underline;">1</span>875  <span style="text-decoration: underline;">1</span>999</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> $2,000-$2,999 ($104,000-$155,999)  <span style="text-decoration: underline;">2</span>000  <span style="text-decoration: underline;">2</span>500  <span style="text-decoration: underline;">2</span>999</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> $3,000 or more ($156,000 or more)  <span style="text-decoration: underline;">3</span>000   <span style="color: #BB0000;">Inf</span>   <span style="color: #BB0000;">Inf</span></span></span></code></pre></div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Will Mackey, Matt Johnson, David Diviny, Matt Cowgill, Bryce Roney, William Lai, Benjamin Wee.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
